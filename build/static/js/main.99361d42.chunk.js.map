{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","put","id","delete","catch","error","console","log","Notification","message","boolean","className","PersonForm","addName","newName","handleNameAdd","newNumber","handleNumberAdd","onSubmit","value","onChange","type","QueryForm","newQuery","handleQuery","Person","parts","removePerson","name","number","onClick","App","useState","persons","setPersons","setNewName","setNewNumber","setNewQuery","showAll","setShowAll","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","initialPersons","event","window","confirm","_id","filter","person","setTimeout","filterPersons","arr","query","el","toLowerCase","indexOf","personsToShow","target","preventDefault","nameObject","some","includes","numberPerson","find","changedNumber","map","returnedPerson","concat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.99361d42.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (newObject) => {\r\n    const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    .catch(error => {\r\n        console.log('error')\r\n    })\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newQuery, setNewQuery] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNumberAdd = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleNameAdd = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleQuery = (event) => {\n    console.log(event.target.value)\n    setNewQuery(event.target.value)\n    if (filterPersons(persons, newQuery)) {\n      setShowAll(false)\n    }\n  }\n\n  const removePerson = parts => (event) => {\n    if (window.confirm(`Are you sure you want to delete ${parts.name}?`)) {\n      personService\n        .remove(parts._id)\n        .then(initialPersons => {\n          setPersons(persons => persons.filter(person => person.name !== parts.name))\n          setSuccessMessage(\n            `Removed ${parts.name}`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n    }\n  }\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (persons.some(person => person.name.includes(newName))) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const numberPerson = persons.find(person => person.name === newName)\n        const changedNumber = { ...numberPerson, number: newNumber }\n        personService\n          .update(changedNumber)\n          .then(response => {\n            setPersons(persons => persons.map(person => person.name !== newName ? person : response))\n            setSuccessMessage(\n              `Updated ${newName}`\n            )\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of ${newName} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      personService\n        .create(nameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setSuccessMessage(\n            `Added ${newName}`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  function filterPersons(arr, query) {\n    return arr.filter(el => el.name.toLowerCase().indexOf(query.toLowerCase()) !== -1)\n  }\n\n  const personsToShow = showAll\n    ? persons\n    : filterPersons(persons, newQuery)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} boolean={false}/>\n      <Notification message={successMessage} boolean={true}/>\n      <QueryForm newQuery={newQuery} handleQuery={handleQuery} />\n      <h2>add a new</h2>\n      <PersonForm addName={addName} newName={newName} handleNameAdd={handleNameAdd} newNumber={newNumber} handleNumberAdd={handleNumberAdd} />\n      <h2>Numbers</h2>\n      {personsToShow.map(person =>\n        <Person key={person.id} parts={person} removePerson={removePerson} />\n      )}\n    </div>\n  )\n}\n\nconst Notification = ({ message, boolean }) => {\n  if (message === null) {\n    return null\n  }\n  if (boolean) {\n    return (\n      <div className=\"success\">\n        {message}\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n}\n\nconst PersonForm = ({ addName, newName, handleNameAdd, newNumber, handleNumberAdd }) => {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input\n          value={newName}\n          onChange={handleNameAdd}\n        />\n      </div>\n      <div>\n        number: <input\n          value={newNumber}\n          onChange={handleNumberAdd}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nconst QueryForm = ({ newQuery, handleQuery }) => {\n  return (\n    <form>\n      <div>\n        filter to show <input\n          value={newQuery}\n          onChange={handleQuery}\n        />\n      </div>\n    </form>\n  )\n}\n\nconst Person = ({ parts, removePerson }) => {\n  return (\n    <p>\n      {parts.name} {parts.number} <button onClick={removePerson(parts)}>delete</button>\n    </p>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}